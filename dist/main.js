!function(g){var n={};function C(I){if(n[I])return n[I].exports;var t=n[I]={i:I,l:!1,exports:{}};return g[I].call(t.exports,t,t.exports,C),t.l=!0,t.exports}C.m=g,C.c=n,C.d=function(g,n,I){C.o(g,n)||Object.defineProperty(g,n,{enumerable:!0,get:I})},C.r=function(g){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},C.t=function(g,n){if(1&n&&(g=C(g)),8&n)return g;if(4&n&&"object"==typeof g&&g&&g.__esModule)return g;var I=Object.create(null);if(C.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:g}),2&n&&"string"!=typeof g)for(var t in g)C.d(I,t,function(n){return g[n]}.bind(null,t));return I},C.n=function(g){var n=g&&g.__esModule?function(){return g.default}:function(){return g};return C.d(n,"a",n),n},C.o=function(g,n){return Object.prototype.hasOwnProperty.call(g,n)},C.p="/dist",C(C.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/model.js\n/* eslint-disable class-methods-use-this */\nclass Model {\n  constructor() {\n    this.weekDays = {\n      en: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n      ru: ['Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота', 'Воскресенье'],\n      be: ['Панядзелак', 'Аўторак', 'Серада', 'Чацьвер', 'Пятніца', 'Субота', 'Нядзеля'],\n    };\n\n    this.month = {\n      en: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n      ru: ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'],\n      be: ['Студзень', 'Люты', 'Сакавік', 'Красавік', 'Май', 'Чэрвень', 'Ліпень', 'Жнівень', 'Верасень', 'Кастрычнік', 'Лістапад', 'Снежань'],\n    };\n  }\n\n  getWeekDay(date, lang = 'en') {\n    const monthIndexes = [1, 4, 4, 0, 2, 5, 0, 3, 6, 1, 4, 6];\n\n    const dayIndex = date.slice(8, 11);\n    const monthIndex = monthIndexes[date.slice(5, 7)[0] !== '0' ? date.slice(5, 7) - 1 : date.slice(6, 7) - 1];\n    const yearIndex = (6 + date.slice(2, 4) + Math.floor(date.slice(2, 4) / 4)) % 7;\n    return this.weekDays[`${lang}`][((+dayIndex + monthIndex + yearIndex) % 7)];\n  }\n\n  async getImage() {\n    const url = 'https://api.unsplash.com/photos/random?orientation=landscape&per_page=1&query=nature&client_id=ebcfbb768413a5cb9a59d5ca8d306206da060493b6b0a5a811bb3c5792f08b38';\n\n    return fetch(url)\n      .then((res) => res.json())\n      .then((data) => data);\n  }\n\n  async getWeather(city, lang = 'en') {\n    const url = `https://api.openweathermap.org/data/2.5/forecast?q=${city}&lang=${lang}&units=metric&APPID=6003d99dd729f938fb1ae682a5c935e5`;\n\n    return fetch(url)\n      .then((res) => res.json())\n      .then((data) => data);\n  }\n\n  async getMap() {\n    return fetch('https://ipinfo.io/json?token=741035a439db1b')\n      .then((res) => res.json())\n      .then((data) => data);\n  }\n\n  async getLocation(city, lang = 'en') {\n    const url = `https://api.opencagedata.com/geocode/v1/json?q=${city}&key=7e137342f87443fe84785827a1c6b056&language=${lang}`;\n\n    return fetch(url)\n      .then((res) => res.json())\n      .then((data) => data);\n  }\n}\n\n/* harmony default export */ var src_model = (Model);\n\n// CONCATENATED MODULE: ./src/helper.js\n/* eslint-disable no-param-reassign */\nclass EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n\n  on(type, listener) {\n    this.events[type] = this.events[type] || [];\n    this.events[type].push(listener);\n  }\n\n  emit(type, arg) {\n    if (this.events[type]) {\n      this.events[type].forEach((listener) => listener(arg));\n    }\n  }\n}\n\nfunction Save(name, data) {\n  localStorage.setItem(name, data);\n}\n\nfunction Load(name) {\n  return localStorage.getItem(name);\n}\n\nfunction F2C(numb) {\n  return Math.round((numb - 32) / (9 / 5));\n}\n\nfunction C2F(numb) {\n  return Math.round(((numb * 9) / 5) + 32);\n}\n\n\n\n\n// CONCATENATED MODULE: ./src/view.js\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-nested-ternary */\n/* eslint-disable no-new */\n/* eslint-disable no-undef */\n/* eslint-disable no-useless-constructor */\n/* eslint-disable class-methods-use-this */\n\n\nclass view_View extends EventEmitter {\n  constructor() {\n    super();\n  }\n\n  Events() {\n    Array.from(document.getElementsByClassName('temp-change')).forEach((elem) => elem.addEventListener('click', this.TempChange.bind(this)));\n\n    document.getElementById('lang').addEventListener('change', this.LangChange.bind(this));\n\n    document.getElementById('upd').addEventListener('click', this.ChangeImage.bind(this));\n\n    document.getElementById('btn-search').addEventListener('click', this.Search.bind(this));\n  }\n\n  Search() {\n    Save('town', document.getElementById('town-input').value);\n    this.UpdatePage({ town: document.getElementById('town-input').value });\n  }\n\n  UpdatePage({ town }) {\n    this.emit('town-upd', { town, lang: Load('lang') });\n  }\n\n\n  ChangeImage() {\n    this.emit('update', {});\n  }\n\n  LangChange(event) {\n    Save('lang', event.currentTarget.value);\n    this.emit('lang-upd', { town: Load('town'), lang: event.currentTarget.value });\n  }\n\n  TempChange(event) {\n    document.querySelector('.state-menu__units_active').classList.remove('state-menu__units_active');\n    event.target.classList.add('state-menu__units_active');\n\n    if (Load('temp') === 'cel' && event.target.innerHTML !== '℃') {\n      Array.from(document.getElementsByClassName('temp')).forEach((elem) => {\n        elem.innerHTML = `${C2F(elem.innerHTML.slice(0, elem.innerHTML.length - 1))}°`;\n        Save('temp', 'far');\n      });\n    } else if (Load('temp') === 'far' && event.target.innerHTML !== '℉') {\n      Array.from(document.getElementsByClassName('temp')).forEach((elem) => {\n        elem.innerHTML = `${F2C(elem.innerHTML.slice(0, elem.innerHTML.length - 1))}°`;\n        Save('temp', 'cel');\n      });\n    }\n  }\n\n  UpdateMap({ lat, lng }) {\n    mapboxgl.accessToken = 'pk.eyJ1IjoiamFyZWwiLCJhIjoiY2s0NnU3aW9pMG0zYzNmcXU0N2pocmhxeiJ9.TSTbGi1CSWFR_cJMXyHXng';\n    new mapboxgl.Map({\n      container: 'map',\n      style: 'mapbox://styles/mapbox/streets-v11',\n      center: [lng, lat],\n      zoom: 11,\n    });\n  }\n\n\n  UpdateImage({ image }) {\n    document.getElementsByTagName('body')[0].style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),url('${image}')`;\n  }\n\n\n  CreateHTML({\n    location, weather, currentDate, lang,\n  }) {\n    const html = `\n        <nav id=\"menu\">\n            <div class=\"state-menu\">\n                <button id = \"upd\" class=\"state-menu__update\"><img src = './assets/img/Vector.png' /></button>\n                <div class=\"state-menu__lang\">\n                    <select name=\"\" id=\"lang\" class=\"state-menu__lang_select\">\n                        <option value=\"en\" ${lang === 'en' ? 'selected' : ''}>en</option>\n                        <option value=\"ru\" ${lang === 'ru' ? 'selected' : ''}>ru</option>\n                        <option value=\"be\" ${lang === 'be' ? 'selected' : ''}>be</option>\n                    </select>\n                </div>\n                <div class=\"state-menu__units\">\n                    <button class=\"temp-change state-menu__units_cel ${Load('temp') === 'cel' ? 'state-menu__units_active' : ''}\">℃</button>\n                    <button class=\"temp-change state-menu__units_far ${Load('temp') === 'far' ? 'state-menu__units_active' : ''}\">℉</button>\n                </div>\n            </div>\n            <div class=\"search\">\n                <input type=\"text\" id = 'town-input' x-webkit-speech=\"x-webkit-speech\">\n                <button id = 'btn-search'>${lang === 'ru' ? 'Поиск' : lang === 'en' ? 'Search' : 'Пошук'}</button>\n            </div>\n        </nav>\n        <main>\n            <setion class=\"weather\">\n                <div class=\"weather__main-info\">\n                    <div class=\"weather__main-info_location\">\n                        <p>${location.formatted}</p>\n                    </div>\n                    <div class=\"weather__main-info_date\">\n                        <p>${currentDate}</p>\n                    </div>\n                    <div class=\"weather__main-info_today\">\n                        <div class=\"weather__main-info_today_temp\">\n                            <p class = \"temp\">${Load('temp') === 'cel' ? Math.round(weather[8].main.temp) : C2F(weather[8].main.temp)}°</p>\n                            <div>\n                                <img class = \"weather__main-info_today_temp_img\" src = \"http://openweathermap.org/img/wn/${weather[0].weather[0].icon}@2x.png\">\n                            </div>\n                        </div>\n                        <div class=\"weather__main-info_today_description\">\n                            <p>${weather[0].weather[0].description[0].toUpperCase()}${weather[0].weather[0].description.slice(1)}</p>\n                            <p>${lang === 'en' ? 'Feels like' : lang === 'ru' ? 'Ощущается' : 'Адчуваецца'}: <span class = \"temp\">${Math.round(weather[0].main.feels_like)}°</span></p>\n                            <p>${lang === 'en' ? 'Wind' : lang === 'ru' ? 'Ветер' : 'Вецер'}: ${Math.round(weather[0].wind.speed)} m/s</p> \n                            <p>${lang === 'en' ? 'Humidity' : lang === 'ru' ? 'Влажность' : 'Вільготнасць'}: ${weather[0].main.humidity}%</p>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"weather__main-info_days\">\n                    <div class=\"weather__main-info_days_day\">\n                        <p>${weather[8].day}</p>\n                        <div class=\"weather__main-info_days_day_temp\">\n                        <p class = \"temp\">${Load('temp') === 'cel' ? Math.round(weather[8].main.temp) : C2F(weather[8].main.temp)}°</p>\n                        <div>\n                            <img src = \"http://openweathermap.org/img/wn/${weather[8].weather[0].icon}@2x.png\">\n                        </div>\n                    </div>\n                    </div>\n                    <div class=\"weather__main-info_days_day\">\n                        <p>${weather[16].day}</p>\n                        <div class=\"weather__main-info_days_day_temp\">\n                        <p class = \"temp\">${Load('temp') === 'cel' ? Math.round(weather[16].main.temp) : C2F(weather[16].main.temp)}°</p>\n                        <div>\n                            <img src = \"http://openweathermap.org/img/wn/${weather[16].weather[0].icon}@2x.png\">\n                        </div>\n                    </div>\n                    </div>\n                    <div class=\"weather__main-info_days_day\">\n                        <p>${weather[24].day}</p>\n                        <div class=\"weather__main-info_days_day_temp\">\n                            <p class = \"temp\">${Load('temp') === 'cel' ? Math.round(weather[24].main.temp) : C2F(weather[24].main.temp)}°</p>\n                            <div>\n                                <img src = \"http://openweathermap.org/img/wn/${weather[24].weather[0].icon}@2x.png\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </setion>\n            <aside class=\"map\">\n                <div id = \"map\" class=\"map__div\"></div>\n                <div class=\"map__location-data\">\n                    <p id=\"latitude\">${lang === 'en' ? 'Latitude' : lang === 'ru' ? 'Широта' : 'Шырата'}: ${location.annotations.DMS.lat.split(\"'\")[0]}</p>\n                    <p id=\"longitude\">${lang === 'en' ? 'Latitude' : lang === 'ru' ? 'Долгота' : 'Даўгата'}: ${location.annotations.DMS.lng.split(\"'\")[0]}</p>\n                </div>\n            </aside>\n        </main>\n            `;\n\n    document.getElementById('app').innerHTML = html;\n  }\n}\n\n/* harmony default export */ var src_view = (view_View);\n\n// CONCATENATED MODULE: ./src/controller.js\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-return-assign */\n\n\nclass controller_Controller {\n  constructor(model, view) {\n    this.model = model;\n    this.view = view;\n\n    if (!Load('temp')) Save('temp', 'cel');\n\n    this.Render({ town: '', lang: Load('lang') || 'en' });\n\n    view.on('update', this.ImageReload.bind(this));\n    view.on('lang', this.Render.bind(this));\n    view.on('town-upd', this.TownReload.bind(this));\n    view.on('lang-upd', this.LangReload.bind(this));\n  }\n\n  async LangReload({ town, lang }) {\n    if (!town) {\n      town = '';\n    }\n\n    if (!lang) {\n      lang = 'en';\n    }\n\n    const map = town ? { city: `${town}` } : await this.model.getMap();\n\n    const location = await this.model.getLocation(map.city, lang);\n    const weather = await this.model.getWeather(map.city, lang);\n    weather.list.map((elem) => elem.day = this.model.getWeekDay(elem.dt_txt.slice(0, 11), lang));\n    const date = new Date();\n\n    const minutes = date.getMinutes().toString().length - 1 ? date.getMinutes() : `0${date.getMinutes()}`;\n    const currentDate = `${this.model.weekDays[`${lang}`][date.getDay()]} ${date.getDate()} ${this.model.month[`${lang}`][date.getMonth() - 1]} ${date.getHours()}:${minutes}`;\n\n    this.view.CreateHTML({\n      location: location.results[0],\n      weather: weather.list,\n      currentDate,\n      lang,\n    });\n\n    this.view.Events();\n\n    this.view.UpdateMap({\n      lat: location.results[0].annotations.OSM.url.split('/')[4],\n      lng: location.results[0].annotations.OSM.url.split('/')[5],\n    });\n  }\n\n  async ImageReload() {\n    const image = await this.model.getImage();\n    this.view.UpdateImage({ image: image.urls.regular });\n  }\n\n  async TownReload({ town, lang }) {\n    if (!town) {\n      town = '';\n    }\n\n    if (!lang) {\n      lang = 'en';\n    }\n\n    const map = town ? { city: `${town}` } : await this.model.getMap();\n    Save('town', map.city);\n\n    const location = await this.model.getLocation(map.city, lang);\n    const weather = await this.model.getWeather(map.city, lang);\n    weather.list.map((elem) => elem.day = this.model.getWeekDay(elem.dt_txt.slice(0, 11), lang));\n    const date = new Date();\n\n    const minutes = date.getMinutes().toString().length - 1 ? date.getMinutes() : `0${date.getMinutes()}`;\n    const currentDate = `${this.model.weekDays[`${lang}`][date.getDay()]} ${date.getDate()} ${this.model.month[`${lang}`][date.getMonth() - 1]} ${date.getHours()}:${minutes}`;\n\n    this.view.CreateHTML({\n      location: location.results[0],\n      weather: weather.list,\n      currentDate,\n      lang,\n    });\n\n    this.view.Events();\n\n    this.view.UpdateMap({\n      lat: location.results[0].annotations.OSM.url.split('/')[4],\n      lng: location.results[0].annotations.OSM.url.split('/')[5],\n    });\n  }\n\n  async Render({ town, lang }) {\n    if (!town) {\n      town = '';\n    }\n\n    if (!lang) {\n      lang = 'en';\n    }\n\n    const map = town ? { city: `${town}` } : await this.model.getMap();\n    Save('town', map.city);\n\n    const location = await this.model.getLocation(map.city, lang);\n    const image = await this.model.getImage();\n    const weather = await this.model.getWeather(map.city, lang);\n    weather.list.map((elem) => elem.day = this.model.getWeekDay(elem.dt_txt.slice(0, 11), lang));\n    const date = new Date();\n\n    const minutes = date.getMinutes().toString().length - 1 ? date.getMinutes() : `0${date.getMinutes()}`;\n    const currentDate = `${this.model.weekDays[`${lang}`][date.getDay()]} ${date.getDate()} ${this.model.month[`${lang}`][date.getMonth() - 1]} ${date.getHours()}:${minutes}`;\n\n    this.view.CreateHTML({\n      location: location.results[0],\n      weather: weather.list,\n      currentDate,\n      lang,\n    });\n\n    this.view.UpdateImage({ image: image.urls.regular });\n\n    this.view.Events();\n    this.view.UpdateMap({\n      lat: location.results[0].annotations.OSM.url.split('/')[4],\n      lng: location.results[0].annotations.OSM.url.split('/')[5],\n    });\n  }\n}\n\n/* harmony default export */ var controller = (controller_Controller);\n\n// CONCATENATED MODULE: ./src/app.js\n\n\n\n\nconst app_model = new src_model();\nconst app_view = new src_view();\nconst app_controller = new controller(app_model, app_view);\n\n/* harmony default export */ var app = __webpack_exports__[\"default\"] = (app_controller);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwuanM/NGFiZSIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVyLmpzPzYyNzUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcuanM/ZjA3OCIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci5qcz82MjgzIiwid2VicGFjazovLy8uL3NyYy9hcHAuanM/MTExMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixLQUFLO0FBQ2pDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzRUFBc0UsS0FBSyxRQUFRLEtBQUs7O0FBRXhGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrRUFBa0UsS0FBSyxpREFBaUQsS0FBSzs7QUFFN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxtREFBSyxFQUFDOzs7QUN4RHJCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBS0U7OztBQ3JDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHa0I7O0FBRWxCLE1BQU0sU0FBSSxTQUFTLFlBQVk7QUFDL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLElBQUksSUFBSTtBQUNSLHFCQUFxQixvREFBb0Q7QUFDekU7O0FBRUEsY0FBYyxPQUFPO0FBQ3JCLDJCQUEyQixhQUFhLElBQUksVUFBVTtBQUN0RDs7O0FB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QTRCO0FBQ3ZEOztBQUVBLG9CQUFvQixhQUFhO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLFVBQVUsS0FBSyxHQUFHO0FBQzFDLElBQUksSUFBSTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzRkFBc0Ysa0JBQWtCO0FBQ3hHLDJCQUEyQix1QkFBdUIsS0FBSyxrQkFBa0IsR0FBRyxlQUFlLEdBQUcsb0JBQW9CLEtBQUssd0JBQXdCLEdBQUcsZ0JBQWdCLEdBQUcsUUFBUTs7QUFFN0s7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsd0JBQXdCLFVBQVUsS0FBSyxHQUFHO0FBQzFDLElBQUksSUFBSTs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNGQUFzRixrQkFBa0I7QUFDeEcsMkJBQTJCLHVCQUF1QixLQUFLLGtCQUFrQixHQUFHLGVBQWUsR0FBRyxvQkFBb0IsS0FBSyx3QkFBd0IsR0FBRyxnQkFBZ0IsR0FBRyxRQUFROztBQUU3SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCwyQkFBMkIsNEJBQTRCOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVlLG9FQUFVLEVBQUM7OztBQ25JRTtBQUNGO0FBQ1k7O0FBRXRDLE1BQU0sU0FBSyxPQUFPLFNBQUs7QUFDdkIsTUFBTSxRQUFJLE9BQU8sUUFBSTtBQUNyQixNQUFNLGNBQVUsT0FBTyxVQUFVLENBQUMsU0FBSyxFQUFFLFFBQUk7O0FBRTlCLHVGQUFVLEVBQUMiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXMgKi9cbmNsYXNzIE1vZGVsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy53ZWVrRGF5cyA9IHtcbiAgICAgIGVuOiBbJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknLCAnU3VuZGF5J10sXG4gICAgICBydTogWyfQn9C+0L3QtdC00LXQu9GM0L3QuNC6JywgJ9CS0YLQvtGA0L3QuNC6JywgJ9Ch0YDQtdC00LAnLCAn0KfQtdGC0LLQtdGA0LMnLCAn0J/Rj9GC0L3QuNGG0LAnLCAn0KHRg9Cx0LHQvtGC0LAnLCAn0JLQvtGB0LrRgNC10YHQtdC90YzQtSddLFxuICAgICAgYmU6IFsn0J/QsNC90Y/QtNC30LXQu9Cw0LonLCAn0JDRntGC0L7RgNCw0LonLCAn0KHQtdGA0LDQtNCwJywgJ9Cn0LDRhtGM0LLQtdGAJywgJ9Cf0Y/RgtC90ZbRhtCwJywgJ9Ch0YPQsdC+0YLQsCcsICfQndGP0LTQt9C10LvRjyddLFxuICAgIH07XG5cbiAgICB0aGlzLm1vbnRoID0ge1xuICAgICAgZW46IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddLFxuICAgICAgcnU6IFsn0K/QvdCy0LDRgNGMJywgJ9Ck0LXQstGA0LDQu9GMJywgJ9Cc0LDRgNGCJywgJ9CQ0L/RgNC10LvRjCcsICfQnNCw0LknLCAn0JjRjtC90YwnLCAn0JjRjtC70YwnLCAn0JDQstCz0YPRgdGCJywgJ9Ch0LXQvdGC0Y/QsdGA0YwnLCAn0J7QutGC0Y/QsdGA0YwnLCAn0J3QvtGP0LHRgNGMJywgJ9CU0LXQutCw0LHRgNGMJ10sXG4gICAgICBiZTogWyfQodGC0YPQtNC30LXQvdGMJywgJ9Cb0Y7RgtGLJywgJ9Ch0LDQutCw0LLRltC6JywgJ9Ca0YDQsNGB0LDQstGW0LonLCAn0JzQsNC5JywgJ9Cn0Y3RgNCy0LXQvdGMJywgJ9Cb0ZbQv9C10L3RjCcsICfQltC90ZbQstC10L3RjCcsICfQktC10YDQsNGB0LXQvdGMJywgJ9Ca0LDRgdGC0YDRi9GH0L3RltC6JywgJ9Cb0ZbRgdGC0LDQv9Cw0LQnLCAn0KHQvdC10LbQsNC90YwnXSxcbiAgICB9O1xuICB9XG5cbiAgZ2V0V2Vla0RheShkYXRlLCBsYW5nID0gJ2VuJykge1xuICAgIGNvbnN0IG1vbnRoSW5kZXhlcyA9IFsxLCA0LCA0LCAwLCAyLCA1LCAwLCAzLCA2LCAxLCA0LCA2XTtcblxuICAgIGNvbnN0IGRheUluZGV4ID0gZGF0ZS5zbGljZSg4LCAxMSk7XG4gICAgY29uc3QgbW9udGhJbmRleCA9IG1vbnRoSW5kZXhlc1tkYXRlLnNsaWNlKDUsIDcpWzBdICE9PSAnMCcgPyBkYXRlLnNsaWNlKDUsIDcpIC0gMSA6IGRhdGUuc2xpY2UoNiwgNykgLSAxXTtcbiAgICBjb25zdCB5ZWFySW5kZXggPSAoNiArIGRhdGUuc2xpY2UoMiwgNCkgKyBNYXRoLmZsb29yKGRhdGUuc2xpY2UoMiwgNCkgLyA0KSkgJSA3O1xuICAgIHJldHVybiB0aGlzLndlZWtEYXlzW2Ake2xhbmd9YF1bKCgrZGF5SW5kZXggKyBtb250aEluZGV4ICsgeWVhckluZGV4KSAlIDcpXTtcbiAgfVxuXG4gIGFzeW5jIGdldEltYWdlKCkge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS51bnNwbGFzaC5jb20vcGhvdG9zL3JhbmRvbT9vcmllbnRhdGlvbj1sYW5kc2NhcGUmcGVyX3BhZ2U9MSZxdWVyeT1uYXR1cmUmY2xpZW50X2lkPWViY2ZiYjc2ODQxM2E1Y2I5YTU5ZDVjYThkMzA2MjA2ZGEwNjA0OTNiNmIwYTVhODExYmIzYzU3OTJmMDhiMzgnO1xuXG4gICAgcmV0dXJuIGZldGNoKHVybClcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigoZGF0YSkgPT4gZGF0YSk7XG4gIH1cblxuICBhc3luYyBnZXRXZWF0aGVyKGNpdHksIGxhbmcgPSAnZW4nKSB7XG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9mb3JlY2FzdD9xPSR7Y2l0eX0mbGFuZz0ke2xhbmd9JnVuaXRzPW1ldHJpYyZBUFBJRD02MDAzZDk5ZGQ3MjlmOTM4ZmIxYWU2ODJhNWM5MzVlNWA7XG5cbiAgICByZXR1cm4gZmV0Y2godXJsKVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiBkYXRhKTtcbiAgfVxuXG4gIGFzeW5jIGdldE1hcCgpIHtcbiAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vaXBpbmZvLmlvL2pzb24/dG9rZW49NzQxMDM1YTQzOWRiMWInKVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiBkYXRhKTtcbiAgfVxuXG4gIGFzeW5jIGdldExvY2F0aW9uKGNpdHksIGxhbmcgPSAnZW4nKSB7XG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLm9wZW5jYWdlZGF0YS5jb20vZ2VvY29kZS92MS9qc29uP3E9JHtjaXR5fSZrZXk9N2UxMzczNDJmODc0NDNmZTg0Nzg1ODI3YTFjNmIwNTYmbGFuZ3VhZ2U9JHtsYW5nfWA7XG5cbiAgICByZXR1cm4gZmV0Y2godXJsKVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiBkYXRhKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RlbDtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG5jbGFzcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50cyA9IHt9O1xuICB9XG5cbiAgb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLmV2ZW50c1t0eXBlXSA9IHRoaXMuZXZlbnRzW3R5cGVdIHx8IFtdO1xuICAgIHRoaXMuZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgZW1pdCh0eXBlLCBhcmcpIHtcbiAgICBpZiAodGhpcy5ldmVudHNbdHlwZV0pIHtcbiAgICAgIHRoaXMuZXZlbnRzW3R5cGVdLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihhcmcpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gU2F2ZShuYW1lLCBkYXRhKSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIGRhdGEpO1xufVxuXG5mdW5jdGlvbiBMb2FkKG5hbWUpIHtcbiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpO1xufVxuXG5mdW5jdGlvbiBGMkMobnVtYikge1xuICByZXR1cm4gTWF0aC5yb3VuZCgobnVtYiAtIDMyKSAvICg5IC8gNSkpO1xufVxuXG5mdW5jdGlvbiBDMkYobnVtYikge1xuICByZXR1cm4gTWF0aC5yb3VuZCgoKG51bWIgKiA5KSAvIDUpICsgMzIpO1xufVxuXG5cbmV4cG9ydCB7XG4gIEV2ZW50RW1pdHRlciwgU2F2ZSwgTG9hZCwgQzJGLCBGMkMsXG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW5lc3RlZC10ZXJuYXJ5ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1uZXcgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2VsZXNzLWNvbnN0cnVjdG9yICovXG4vKiBlc2xpbnQtZGlzYWJsZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzICovXG5pbXBvcnQge1xuICBFdmVudEVtaXR0ZXIsIFNhdmUsIExvYWQsIEMyRiwgRjJDLFxufSBmcm9tICcuL2hlbHBlcic7XG5cbmNsYXNzIFZpZXcgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgRXZlbnRzKCkge1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGVtcC1jaGFuZ2UnKSkuZm9yRWFjaCgoZWxlbSkgPT4gZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuVGVtcENoYW5nZS5iaW5kKHRoaXMpKSk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFuZycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuTGFuZ0NoYW5nZS5iaW5kKHRoaXMpKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuQ2hhbmdlSW1hZ2UuYmluZCh0aGlzKSk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLXNlYXJjaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5TZWFyY2guYmluZCh0aGlzKSk7XG4gIH1cblxuICBTZWFyY2goKSB7XG4gICAgU2F2ZSgndG93bicsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3duLWlucHV0JykudmFsdWUpO1xuICAgIHRoaXMuVXBkYXRlUGFnZSh7IHRvd246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3duLWlucHV0JykudmFsdWUgfSk7XG4gIH1cblxuICBVcGRhdGVQYWdlKHsgdG93biB9KSB7XG4gICAgdGhpcy5lbWl0KCd0b3duLXVwZCcsIHsgdG93biwgbGFuZzogTG9hZCgnbGFuZycpIH0pO1xuICB9XG5cblxuICBDaGFuZ2VJbWFnZSgpIHtcbiAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHt9KTtcbiAgfVxuXG4gIExhbmdDaGFuZ2UoZXZlbnQpIHtcbiAgICBTYXZlKCdsYW5nJywgZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgdGhpcy5lbWl0KCdsYW5nLXVwZCcsIHsgdG93bjogTG9hZCgndG93bicpLCBsYW5nOiBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pO1xuICB9XG5cbiAgVGVtcENoYW5nZShldmVudCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGF0ZS1tZW51X191bml0c19hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdzdGF0ZS1tZW51X191bml0c19hY3RpdmUnKTtcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnc3RhdGUtbWVudV9fdW5pdHNfYWN0aXZlJyk7XG5cbiAgICBpZiAoTG9hZCgndGVtcCcpID09PSAnY2VsJyAmJiBldmVudC50YXJnZXQuaW5uZXJIVE1MICE9PSAn4oSDJykge1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0ZW1wJykpLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgZWxlbS5pbm5lckhUTUwgPSBgJHtDMkYoZWxlbS5pbm5lckhUTUwuc2xpY2UoMCwgZWxlbS5pbm5lckhUTUwubGVuZ3RoIC0gMSkpfcKwYDtcbiAgICAgICAgU2F2ZSgndGVtcCcsICdmYXInKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoTG9hZCgndGVtcCcpID09PSAnZmFyJyAmJiBldmVudC50YXJnZXQuaW5uZXJIVE1MICE9PSAn4oSJJykge1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0ZW1wJykpLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgZWxlbS5pbm5lckhUTUwgPSBgJHtGMkMoZWxlbS5pbm5lckhUTUwuc2xpY2UoMCwgZWxlbS5pbm5lckhUTUwubGVuZ3RoIC0gMSkpfcKwYDtcbiAgICAgICAgU2F2ZSgndGVtcCcsICdjZWwnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIFVwZGF0ZU1hcCh7IGxhdCwgbG5nIH0pIHtcbiAgICBtYXBib3hnbC5hY2Nlc3NUb2tlbiA9ICdway5leUoxSWpvaWFtRnlaV3dpTENKaElqb2lZMnMwTm5VM2FXOXBNRzB6WXpObWNYVTBOMnBvY21oeGVpSjkuVFNUYkdpMUNTV0ZSX2NKTVh5SFhuZyc7XG4gICAgbmV3IG1hcGJveGdsLk1hcCh7XG4gICAgICBjb250YWluZXI6ICdtYXAnLFxuICAgICAgc3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjExJyxcbiAgICAgIGNlbnRlcjogW2xuZywgbGF0XSxcbiAgICAgIHpvb206IDExLFxuICAgIH0pO1xuICB9XG5cblxuICBVcGRhdGVJbWFnZSh7IGltYWdlIH0pIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGBsaW5lYXItZ3JhZGllbnQocmdiYSgwLCAwLCAwLCAwLjUpLCByZ2JhKDAsIDAsIDAsIDAuNSkpLHVybCgnJHtpbWFnZX0nKWA7XG4gIH1cblxuXG4gIENyZWF0ZUhUTUwoe1xuICAgIGxvY2F0aW9uLCB3ZWF0aGVyLCBjdXJyZW50RGF0ZSwgbGFuZyxcbiAgfSkge1xuICAgIGNvbnN0IGh0bWwgPSBgXG4gICAgICAgIDxuYXYgaWQ9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdGUtbWVudVwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQgPSBcInVwZFwiIGNsYXNzPVwic3RhdGUtbWVudV9fdXBkYXRlXCI+PGltZyBzcmMgPSAnLi9hc3NldHMvaW1nL1ZlY3Rvci5wbmcnIC8+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXRlLW1lbnVfX2xhbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVwiXCIgaWQ9XCJsYW5nXCIgY2xhc3M9XCJzdGF0ZS1tZW51X19sYW5nX3NlbGVjdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImVuXCIgJHtsYW5nID09PSAnZW4nID8gJ3NlbGVjdGVkJyA6ICcnfT5lbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInJ1XCIgJHtsYW5nID09PSAncnUnID8gJ3NlbGVjdGVkJyA6ICcnfT5ydTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImJlXCIgJHtsYW5nID09PSAnYmUnID8gJ3NlbGVjdGVkJyA6ICcnfT5iZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdGUtbWVudV9fdW5pdHNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRlbXAtY2hhbmdlIHN0YXRlLW1lbnVfX3VuaXRzX2NlbCAke0xvYWQoJ3RlbXAnKSA9PT0gJ2NlbCcgPyAnc3RhdGUtbWVudV9fdW5pdHNfYWN0aXZlJyA6ICcnfVwiPuKEgzwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidGVtcC1jaGFuZ2Ugc3RhdGUtbWVudV9fdW5pdHNfZmFyICR7TG9hZCgndGVtcCcpID09PSAnZmFyJyA/ICdzdGF0ZS1tZW51X191bml0c19hY3RpdmUnIDogJyd9XCI+4oSJPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWFyY2hcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZCA9ICd0b3duLWlucHV0JyB4LXdlYmtpdC1zcGVlY2g9XCJ4LXdlYmtpdC1zcGVlY2hcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkID0gJ2J0bi1zZWFyY2gnPiR7bGFuZyA9PT0gJ3J1JyA/ICfQn9C+0LjRgdC6JyA6IGxhbmcgPT09ICdlbicgPyAnU2VhcmNoJyA6ICfQn9C+0YjRg9C6J308L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L25hdj5cbiAgICAgICAgPG1haW4+XG4gICAgICAgICAgICA8c2V0aW9uIGNsYXNzPVwid2VhdGhlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWF0aGVyX19tYWluLWluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndlYXRoZXJfX21haW4taW5mb19sb2NhdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHtsb2NhdGlvbi5mb3JtYXR0ZWR9PC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndlYXRoZXJfX21haW4taW5mb19kYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD4ke2N1cnJlbnREYXRlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWF0aGVyX19tYWluLWluZm9fdG9kYXlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWF0aGVyX19tYWluLWluZm9fdG9kYXlfdGVtcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzID0gXCJ0ZW1wXCI+JHtMb2FkKCd0ZW1wJykgPT09ICdjZWwnID8gTWF0aC5yb3VuZCh3ZWF0aGVyWzhdLm1haW4udGVtcCkgOiBDMkYod2VhdGhlcls4XS5tYWluLnRlbXApfcKwPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3MgPSBcIndlYXRoZXJfX21haW4taW5mb190b2RheV90ZW1wX2ltZ1wiIHNyYyA9IFwiaHR0cDovL29wZW53ZWF0aGVybWFwLm9yZy9pbWcvd24vJHt3ZWF0aGVyWzBdLndlYXRoZXJbMF0uaWNvbn1AMngucG5nXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWF0aGVyX19tYWluLWluZm9fdG9kYXlfZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke3dlYXRoZXJbMF0ud2VhdGhlclswXS5kZXNjcmlwdGlvblswXS50b1VwcGVyQ2FzZSgpfSR7d2VhdGhlclswXS53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uLnNsaWNlKDEpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke2xhbmcgPT09ICdlbicgPyAnRmVlbHMgbGlrZScgOiBsYW5nID09PSAncnUnID8gJ9Ce0YnRg9GJ0LDQtdGC0YHRjycgOiAn0JDQtNGH0YPQstCw0LXRhtGG0LAnfTogPHNwYW4gY2xhc3MgPSBcInRlbXBcIj4ke01hdGgucm91bmQod2VhdGhlclswXS5tYWluLmZlZWxzX2xpa2UpfcKwPC9zcGFuPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4ke2xhbmcgPT09ICdlbicgPyAnV2luZCcgOiBsYW5nID09PSAncnUnID8gJ9CS0LXRgtC10YAnIDogJ9CS0LXRhtC10YAnfTogJHtNYXRoLnJvdW5kKHdlYXRoZXJbMF0ud2luZC5zcGVlZCl9IG0vczwvcD4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHtsYW5nID09PSAnZW4nID8gJ0h1bWlkaXR5JyA6IGxhbmcgPT09ICdydScgPyAn0JLQu9Cw0LbQvdC+0YHRgtGMJyA6ICfQktGW0LvRjNCz0L7RgtC90LDRgdGG0YwnfTogJHt3ZWF0aGVyWzBdLm1haW4uaHVtaWRpdHl9JTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWF0aGVyX19tYWluLWluZm9fZGF5c1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid2VhdGhlcl9fbWFpbi1pbmZvX2RheXNfZGF5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD4ke3dlYXRoZXJbOF0uZGF5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWF0aGVyX19tYWluLWluZm9fZGF5c19kYXlfdGVtcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3MgPSBcInRlbXBcIj4ke0xvYWQoJ3RlbXAnKSA9PT0gJ2NlbCcgPyBNYXRoLnJvdW5kKHdlYXRoZXJbOF0ubWFpbi50ZW1wKSA6IEMyRih3ZWF0aGVyWzhdLm1haW4udGVtcCl9wrA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjID0gXCJodHRwOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93bi8ke3dlYXRoZXJbOF0ud2VhdGhlclswXS5pY29ufUAyeC5wbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWF0aGVyX19tYWluLWluZm9fZGF5c19kYXlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPiR7d2VhdGhlclsxNl0uZGF5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWF0aGVyX19tYWluLWluZm9fZGF5c19kYXlfdGVtcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3MgPSBcInRlbXBcIj4ke0xvYWQoJ3RlbXAnKSA9PT0gJ2NlbCcgPyBNYXRoLnJvdW5kKHdlYXRoZXJbMTZdLm1haW4udGVtcCkgOiBDMkYod2VhdGhlclsxNl0ubWFpbi50ZW1wKX3CsDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmMgPSBcImh0dHA6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7d2VhdGhlclsxNl0ud2VhdGhlclswXS5pY29ufUAyeC5wbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWF0aGVyX19tYWluLWluZm9fZGF5c19kYXlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPiR7d2VhdGhlclsyNF0uZGF5fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWF0aGVyX19tYWluLWluZm9fZGF5c19kYXlfdGVtcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzID0gXCJ0ZW1wXCI+JHtMb2FkKCd0ZW1wJykgPT09ICdjZWwnID8gTWF0aC5yb3VuZCh3ZWF0aGVyWzI0XS5tYWluLnRlbXApIDogQzJGKHdlYXRoZXJbMjRdLm1haW4udGVtcCl9wrA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmMgPSBcImh0dHA6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7d2VhdGhlclsyNF0ud2VhdGhlclswXS5pY29ufUAyeC5wbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvc2V0aW9uPlxuICAgICAgICAgICAgPGFzaWRlIGNsYXNzPVwibWFwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBpZCA9IFwibWFwXCIgY2xhc3M9XCJtYXBfX2RpdlwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXBfX2xvY2F0aW9uLWRhdGFcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgaWQ9XCJsYXRpdHVkZVwiPiR7bGFuZyA9PT0gJ2VuJyA/ICdMYXRpdHVkZScgOiBsYW5nID09PSAncnUnID8gJ9Co0LjRgNC+0YLQsCcgOiAn0KjRi9GA0LDRgtCwJ306ICR7bG9jYXRpb24uYW5ub3RhdGlvbnMuRE1TLmxhdC5zcGxpdChcIidcIilbMF19PC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBpZD1cImxvbmdpdHVkZVwiPiR7bGFuZyA9PT0gJ2VuJyA/ICdMYXRpdHVkZScgOiBsYW5nID09PSAncnUnID8gJ9CU0L7Qu9Cz0L7RgtCwJyA6ICfQlNCw0Z7Qs9Cw0YLQsCd9OiAke2xvY2F0aW9uLmFubm90YXRpb25zLkRNUy5sbmcuc3BsaXQoXCInXCIpWzBdfTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvYXNpZGU+XG4gICAgICAgIDwvbWFpbj5cbiAgICAgICAgICAgIGA7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJykuaW5uZXJIVE1MID0gaHRtbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXJldHVybi1hc3NpZ24gKi9cbmltcG9ydCB7IExvYWQsIFNhdmUgfSBmcm9tICcuL2hlbHBlcic7XG5cbmNsYXNzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihtb2RlbCwgdmlldykge1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLnZpZXcgPSB2aWV3O1xuXG4gICAgaWYgKCFMb2FkKCd0ZW1wJykpIFNhdmUoJ3RlbXAnLCAnY2VsJyk7XG5cbiAgICB0aGlzLlJlbmRlcih7IHRvd246ICcnLCBsYW5nOiBMb2FkKCdsYW5nJykgfHwgJ2VuJyB9KTtcblxuICAgIHZpZXcub24oJ3VwZGF0ZScsIHRoaXMuSW1hZ2VSZWxvYWQuYmluZCh0aGlzKSk7XG4gICAgdmlldy5vbignbGFuZycsIHRoaXMuUmVuZGVyLmJpbmQodGhpcykpO1xuICAgIHZpZXcub24oJ3Rvd24tdXBkJywgdGhpcy5Ub3duUmVsb2FkLmJpbmQodGhpcykpO1xuICAgIHZpZXcub24oJ2xhbmctdXBkJywgdGhpcy5MYW5nUmVsb2FkLmJpbmQodGhpcykpO1xuICB9XG5cbiAgYXN5bmMgTGFuZ1JlbG9hZCh7IHRvd24sIGxhbmcgfSkge1xuICAgIGlmICghdG93bikge1xuICAgICAgdG93biA9ICcnO1xuICAgIH1cblxuICAgIGlmICghbGFuZykge1xuICAgICAgbGFuZyA9ICdlbic7XG4gICAgfVxuXG4gICAgY29uc3QgbWFwID0gdG93biA/IHsgY2l0eTogYCR7dG93bn1gIH0gOiBhd2FpdCB0aGlzLm1vZGVsLmdldE1hcCgpO1xuXG4gICAgY29uc3QgbG9jYXRpb24gPSBhd2FpdCB0aGlzLm1vZGVsLmdldExvY2F0aW9uKG1hcC5jaXR5LCBsYW5nKTtcbiAgICBjb25zdCB3ZWF0aGVyID0gYXdhaXQgdGhpcy5tb2RlbC5nZXRXZWF0aGVyKG1hcC5jaXR5LCBsYW5nKTtcbiAgICB3ZWF0aGVyLmxpc3QubWFwKChlbGVtKSA9PiBlbGVtLmRheSA9IHRoaXMubW9kZWwuZ2V0V2Vla0RheShlbGVtLmR0X3R4dC5zbGljZSgwLCAxMSksIGxhbmcpKTtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcblxuICAgIGNvbnN0IG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpLmxlbmd0aCAtIDEgPyBkYXRlLmdldE1pbnV0ZXMoKSA6IGAwJHtkYXRlLmdldE1pbnV0ZXMoKX1gO1xuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gYCR7dGhpcy5tb2RlbC53ZWVrRGF5c1tgJHtsYW5nfWBdW2RhdGUuZ2V0RGF5KCldfSAke2RhdGUuZ2V0RGF0ZSgpfSAke3RoaXMubW9kZWwubW9udGhbYCR7bGFuZ31gXVtkYXRlLmdldE1vbnRoKCkgLSAxXX0gJHtkYXRlLmdldEhvdXJzKCl9OiR7bWludXRlc31gO1xuXG4gICAgdGhpcy52aWV3LkNyZWF0ZUhUTUwoe1xuICAgICAgbG9jYXRpb246IGxvY2F0aW9uLnJlc3VsdHNbMF0sXG4gICAgICB3ZWF0aGVyOiB3ZWF0aGVyLmxpc3QsXG4gICAgICBjdXJyZW50RGF0ZSxcbiAgICAgIGxhbmcsXG4gICAgfSk7XG5cbiAgICB0aGlzLnZpZXcuRXZlbnRzKCk7XG5cbiAgICB0aGlzLnZpZXcuVXBkYXRlTWFwKHtcbiAgICAgIGxhdDogbG9jYXRpb24ucmVzdWx0c1swXS5hbm5vdGF0aW9ucy5PU00udXJsLnNwbGl0KCcvJylbNF0sXG4gICAgICBsbmc6IGxvY2F0aW9uLnJlc3VsdHNbMF0uYW5ub3RhdGlvbnMuT1NNLnVybC5zcGxpdCgnLycpWzVdLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgSW1hZ2VSZWxvYWQoKSB7XG4gICAgY29uc3QgaW1hZ2UgPSBhd2FpdCB0aGlzLm1vZGVsLmdldEltYWdlKCk7XG4gICAgdGhpcy52aWV3LlVwZGF0ZUltYWdlKHsgaW1hZ2U6IGltYWdlLnVybHMucmVndWxhciB9KTtcbiAgfVxuXG4gIGFzeW5jIFRvd25SZWxvYWQoeyB0b3duLCBsYW5nIH0pIHtcbiAgICBpZiAoIXRvd24pIHtcbiAgICAgIHRvd24gPSAnJztcbiAgICB9XG5cbiAgICBpZiAoIWxhbmcpIHtcbiAgICAgIGxhbmcgPSAnZW4nO1xuICAgIH1cblxuICAgIGNvbnN0IG1hcCA9IHRvd24gPyB7IGNpdHk6IGAke3Rvd259YCB9IDogYXdhaXQgdGhpcy5tb2RlbC5nZXRNYXAoKTtcbiAgICBTYXZlKCd0b3duJywgbWFwLmNpdHkpO1xuXG4gICAgY29uc3QgbG9jYXRpb24gPSBhd2FpdCB0aGlzLm1vZGVsLmdldExvY2F0aW9uKG1hcC5jaXR5LCBsYW5nKTtcbiAgICBjb25zdCB3ZWF0aGVyID0gYXdhaXQgdGhpcy5tb2RlbC5nZXRXZWF0aGVyKG1hcC5jaXR5LCBsYW5nKTtcbiAgICB3ZWF0aGVyLmxpc3QubWFwKChlbGVtKSA9PiBlbGVtLmRheSA9IHRoaXMubW9kZWwuZ2V0V2Vla0RheShlbGVtLmR0X3R4dC5zbGljZSgwLCAxMSksIGxhbmcpKTtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcblxuICAgIGNvbnN0IG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpLmxlbmd0aCAtIDEgPyBkYXRlLmdldE1pbnV0ZXMoKSA6IGAwJHtkYXRlLmdldE1pbnV0ZXMoKX1gO1xuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gYCR7dGhpcy5tb2RlbC53ZWVrRGF5c1tgJHtsYW5nfWBdW2RhdGUuZ2V0RGF5KCldfSAke2RhdGUuZ2V0RGF0ZSgpfSAke3RoaXMubW9kZWwubW9udGhbYCR7bGFuZ31gXVtkYXRlLmdldE1vbnRoKCkgLSAxXX0gJHtkYXRlLmdldEhvdXJzKCl9OiR7bWludXRlc31gO1xuXG4gICAgdGhpcy52aWV3LkNyZWF0ZUhUTUwoe1xuICAgICAgbG9jYXRpb246IGxvY2F0aW9uLnJlc3VsdHNbMF0sXG4gICAgICB3ZWF0aGVyOiB3ZWF0aGVyLmxpc3QsXG4gICAgICBjdXJyZW50RGF0ZSxcbiAgICAgIGxhbmcsXG4gICAgfSk7XG5cbiAgICB0aGlzLnZpZXcuRXZlbnRzKCk7XG5cbiAgICB0aGlzLnZpZXcuVXBkYXRlTWFwKHtcbiAgICAgIGxhdDogbG9jYXRpb24ucmVzdWx0c1swXS5hbm5vdGF0aW9ucy5PU00udXJsLnNwbGl0KCcvJylbNF0sXG4gICAgICBsbmc6IGxvY2F0aW9uLnJlc3VsdHNbMF0uYW5ub3RhdGlvbnMuT1NNLnVybC5zcGxpdCgnLycpWzVdLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgUmVuZGVyKHsgdG93biwgbGFuZyB9KSB7XG4gICAgaWYgKCF0b3duKSB7XG4gICAgICB0b3duID0gJyc7XG4gICAgfVxuXG4gICAgaWYgKCFsYW5nKSB7XG4gICAgICBsYW5nID0gJ2VuJztcbiAgICB9XG5cbiAgICBjb25zdCBtYXAgPSB0b3duID8geyBjaXR5OiBgJHt0b3dufWAgfSA6IGF3YWl0IHRoaXMubW9kZWwuZ2V0TWFwKCk7XG4gICAgU2F2ZSgndG93bicsIG1hcC5jaXR5KTtcblxuICAgIGNvbnN0IGxvY2F0aW9uID0gYXdhaXQgdGhpcy5tb2RlbC5nZXRMb2NhdGlvbihtYXAuY2l0eSwgbGFuZyk7XG4gICAgY29uc3QgaW1hZ2UgPSBhd2FpdCB0aGlzLm1vZGVsLmdldEltYWdlKCk7XG4gICAgY29uc3Qgd2VhdGhlciA9IGF3YWl0IHRoaXMubW9kZWwuZ2V0V2VhdGhlcihtYXAuY2l0eSwgbGFuZyk7XG4gICAgd2VhdGhlci5saXN0Lm1hcCgoZWxlbSkgPT4gZWxlbS5kYXkgPSB0aGlzLm1vZGVsLmdldFdlZWtEYXkoZWxlbS5kdF90eHQuc2xpY2UoMCwgMTEpLCBsYW5nKSk7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICBjb25zdCBtaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5sZW5ndGggLSAxID8gZGF0ZS5nZXRNaW51dGVzKCkgOiBgMCR7ZGF0ZS5nZXRNaW51dGVzKCl9YDtcbiAgICBjb25zdCBjdXJyZW50RGF0ZSA9IGAke3RoaXMubW9kZWwud2Vla0RheXNbYCR7bGFuZ31gXVtkYXRlLmdldERheSgpXX0gJHtkYXRlLmdldERhdGUoKX0gJHt0aGlzLm1vZGVsLm1vbnRoW2Ake2xhbmd9YF1bZGF0ZS5nZXRNb250aCgpIC0gMV19ICR7ZGF0ZS5nZXRIb3VycygpfToke21pbnV0ZXN9YDtcblxuICAgIHRoaXMudmlldy5DcmVhdGVIVE1MKHtcbiAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbi5yZXN1bHRzWzBdLFxuICAgICAgd2VhdGhlcjogd2VhdGhlci5saXN0LFxuICAgICAgY3VycmVudERhdGUsXG4gICAgICBsYW5nLFxuICAgIH0pO1xuXG4gICAgdGhpcy52aWV3LlVwZGF0ZUltYWdlKHsgaW1hZ2U6IGltYWdlLnVybHMucmVndWxhciB9KTtcblxuICAgIHRoaXMudmlldy5FdmVudHMoKTtcbiAgICB0aGlzLnZpZXcuVXBkYXRlTWFwKHtcbiAgICAgIGxhdDogbG9jYXRpb24ucmVzdWx0c1swXS5hbm5vdGF0aW9ucy5PU00udXJsLnNwbGl0KCcvJylbNF0sXG4gICAgICBsbmc6IGxvY2F0aW9uLnJlc3VsdHNbMF0uYW5ub3RhdGlvbnMuT1NNLnVybC5zcGxpdCgnLycpWzVdLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgTW9kZWwgZnJvbSAnLi9tb2RlbCc7XG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcblxuY29uc3QgbW9kZWwgPSBuZXcgTW9kZWwoKTtcbmNvbnN0IHZpZXcgPSBuZXcgVmlldygpO1xuY29uc3QgY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKG1vZGVsLCB2aWV3KTtcblxuZXhwb3J0IGRlZmF1bHQgY29udHJvbGxlcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")}]);